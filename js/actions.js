document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("scroll",(()=>{const e=window.scrollY,t=document.querySelector("header"),r="header--active";e>90?t.classList.add(r):t.classList.remove(r)}));let e=!1;const t=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?(e=!0,l(),d(c),a=!1):a=!0}))}),{threshold:.5}),r=document.querySelector(".features");t.observe(r);const o=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target.getAttribute("data-id"),r=document.querySelector(".benefits__content--sticky img");if(e.isIntersecting){switch(r.classList.add("fade-out"),t){case"1":r.src="./imgs/calendio-benefit-1.webp",r.alt="Image 1 description";break;case"2":r.src="./imgs/calendio-benefit-2.webp",r.alt="Image 2 description";break;case"3":r.src="./imgs/calendio-benefit-3.webp",r.alt="Image 3 description"}r.classList.remove("fade-out")}}))}),{threshold:1});document.querySelectorAll(".benefits__content").forEach(((e,t)=>{e.setAttribute("data-id",t+1),o.observe(e)}));const s=document.querySelectorAll(".features-accordion__item");let c=0,n=null,a=!1;const i=document.querySelectorAll(".features-accordion__img img");function l(){s.forEach(((t,r)=>{t.querySelector(".features-accordion__content").classList.remove("features-accordion__content--height-auto"),t.querySelector(".features-accordion__progress").style.width="0%",t.querySelector(".features-accordion__progress-bar").style.display="none",t.querySelector("button").style.pointerEvents="auto",e||(i[r].style.opacity="0",i[r].style.transform="scale(.9)"),setTimeout((()=>i[r].style.display="none"),200),r===c&&(setTimeout((()=>i[r].style.display=""),200),setTimeout((()=>{i[r].style.opacity="1",i[r].style.transform="scale(1)"}),400),t.querySelector(".features-accordion__content").style.display="",t.querySelector(".features-accordion__content").style.height="auto",t.querySelector("button").style.pointerEvents="none",setTimeout((()=>t.querySelector(".features-accordion__content").classList.add("features-accordion__content--height-auto")),10),t.querySelector(".features-accordion__progress-bar").style.display="")})),e=!1}const u=()=>{c=(c+1)%s.length,l(),d(c)};function d(e){let t=parseFloat(s[e].querySelector(".features-accordion__progress").style.width);n&&clearInterval(n),n=setInterval((()=>{if(t>=100)clearInterval(n),u();else{if(a)return;t+=1,s[e].querySelector(".features-accordion__progress").style.width=t+"%"}}),100)}s.forEach(((e,t)=>{e.querySelector("button").addEventListener("click",(()=>{c=t,l()})),e.addEventListener("mouseover",(()=>{a=!0})),e.addEventListener("mouseout",(()=>{a=!1,d(c)}))}));const y=document.querySelector(".menu__btn-mobile");let m=!1;y.addEventListener("click",(()=>{const e=document.querySelector(".menu__btn-mobile img");m?(m=!1,e.src="./imgs/icon-menu.svg",document.querySelector(".menu__wrapper-submenu").style.left="-100%"):(m=!0,e.src="./imgs/icon-close.svg",document.querySelector(".menu__wrapper-submenu").style.left="0")}))}));